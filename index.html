<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØªØ¬Ø±Ø¨Ø© ØªØ­Ù…ÙŠÙ„ ÙŠÙˆØªÙŠÙˆØ¨</title>
    <style>
        body { font-family: sans-serif; padding: 20px; text-align: center; background: #f4f4f4; }
        input { padding: 10px; width: 300px; border: 1px solid #ccc; border-radius: 5px; }
        button { padding: 10px 20px; background: #ff0000; color: white; border: none; cursor: pointer; border-radius: 5px; }
        #result { margin-top: 20px; padding: 15px; background: white; display: none; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        a { display: inline-block; margin-top: 10px; padding: 10px; background: green; color: white; text-decoration: none; border-radius: 5px; }
    </style>
</head>
<body>
    <h2>Ø§Ø®ØªØ¨Ø§Ø± API Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ ğŸš€</h2>
    <input type="text" id="videoId" placeholder="Ø¶Ø¹ ÙƒÙˆØ¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù‡Ù†Ø§ (Ù…Ø«Ù„Ø§Ù‹: xqYI7ttIv3Q)">
    <button onclick="downloadVideo()">ØªØ­Ù…ÙŠÙ„</button>

    <div id="result">
        <p id="title"></p>
        <div id="links"></div>
    </div>

    <script>
        async function downloadVideo() {
            const id = document.getElementById('videoId').value;
            const resDiv = document.getElementById('result');
            const linksDiv = document.getElementById('links');
            
            if(!id) return alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙˆØ¶Ø¹ ÙƒÙˆØ¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ");

            const options = {
                method: 'GET',
                headers: {
                    'x-rapidapi-key': 'c107978669msh8c9b80d11a0150dp1b0b56jsn6b0f9128b487',
                    'x-rapidapi-host': 'youtube-media-downloader.p.rapidapi.com'
                }
            };

            try {
                const response = await fetch(`https://youtube-media-downloader.p.rapidapi.com/v2/video/details?videoId=${id}&urlAccess=normal`, options);
                const data = await response.json();
                
                if(data.status) {
                    resDiv.style.display = 'block';
                    document.getElementById('title').innerText = "Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: " + data.title;
                    linksDiv.innerHTML = "";
                    
                    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø£ÙˆÙ„ Ø±Ø§Ø¨Ø· ÙÙŠØ¯ÙŠÙˆ Ù…ØªØ§Ø­
                    const videoLink = data.formats[0].url;
                    linksDiv.innerHTML = `<a href="${videoLink}" target="_blank">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (MP4)</a>`;
                } else {
                    alert("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯");
                }
            } catch (err) {
                console.error(err);
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„");
            }
        }
    </script>
</body>
</html>
