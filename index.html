<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Instagram Downloader Test</title>
</head>
<body>
    <input type="text" id="instaUrl" placeholder="ضع رابط الانستا هنا">
    <button onclick="downloadVideo()">تحميل</button>
    <div id="result"></div>

    <script>
    async function downloadVideo() {
        const url = document.getElementById('instaUrl').value;
        const options = {
            method: 'GET',
            headers: {
                'x-rapidapi-host': 'instagram-post-reels-stories-downloader-api.p.rapidapi.com',
                'x-rapidapi-key': 'c107978669msh8c9b80d11a0150dp1b0b56jsn6b0f9128b487'
            }
        };

        try {
            const response = await fetch(`https://instagram-post-reels-stories-downloader-api.p.rapidapi.com/instagram/?url=${encodeURIComponent(url)}`, options);
            const data = await response.json();
            const videoUrl = data.result[0].url;
            document.getElementById('result').innerHTML = `<video width="320" controls><source src="${videoUrl}" type="video/mp4"></video>`;
        } catch (error) {
            alert('حدث خطأ في جلب البيانات');
        }
    }
    </script>
</body>
</html>
